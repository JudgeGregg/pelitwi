<!DOCTYPE html>
<html lang="en">
<head>
          <title>Test Pelican - The Evolution of Finger: moving to a component based architecture</title>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />

        <meta name="Description" content="An event-driven networking engine written in Python and MIT licensed." />

        <link rel="stylesheet" type="text/css" href="https://judgegregg.github.io/pelitwi/theme/css/twistedtrac.css" />


</head>

<body>
        <div id="banner">
                <div id="top_grad"></div>
                <div id="tab">
                        <a href="https://twistedmatrix.com/trac/wiki">HOME</a>
                        <a href="https://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions">FAQ</a>
                        <a href="/">DOCS</a>
                        <a href="https://twistedmatrix.com/trac/wiki/Downloads">DOWNLOAD</a>
                </div>

                <div id="header">
                        <a id="logo" href="https://judgegregg.github.io/pelitwi/"><img src="https://judgegregg.github.io/pelitwi/theme/images/trac_banner.png" alt="Twisted" /></a>
                </div>
        </div>

<div id="mainnav" class="related">
	<ul>
		<li><a href="https://judgegregg.github.io/pelitwi">Twisted 21.2.0 documentation</a> Â»</li>
	</ul>
</div>
        <div id="ctxtnav" class="nav">
        </div>

    <section>

    <div class="document">
        <div class="documentwrapper">
        <div class="bodywrapper">
        <h1>The Evolution of Finger: moving to a component based architecture</h1>
        
        <div class="entry-content">
        <div class="section" id="introduction">
<h2><a class="toc-backref" href="#id1">Introduction</a></h2>
<p>This is the fourth part of the Twisted tutorial <a class="reference external" href="https://judgegregg.github.io/pelitwi/pages/twisted-from-scratch-or-the-evolution-of-finger.html">Twisted from Scratch, or The Evolution of Finger</a> .</p>
<p>In this section of the tutorial, we'll move our code to a component
architecture so that adding new features is trivial.
See <a class="reference external" href="https://judgegregg.github.io/pelitwi/pages/components-interfaces-and-adapters.html">Interfaces and Adapters</a> for a more
complete discussion of components.</p>
</div>
<div class="section" id="write-maintainable-code">
<h2><a class="toc-backref" href="#id2">Write Maintainable Code</a></h2>
<p>In the last version, the service class was three times longer than any other
class, and was hard to understand. This was because it turned out to have
multiple responsibilities. It had to know how to access user information, by
rereading the file every half minute, but also how to display itself in a myriad
of protocols. Here, we used the component-based architecture that Twisted
provides to achieve a separation of concerns. All the service is responsible
for, now, is supporting <tt class="docutils literal">getUser</tt> /<tt class="docutils literal">getUsers</tt> . It declares
its support via the <tt class="docutils literal">zope.interface.implementer</tt> decorator. Then, adapters
are used to make this service look like an appropriate class for various things:
for supplying a finger factory to <tt class="docutils literal">TCPServer</tt> , for supplying a
resource to site's constructor, and to provide an IRC client factory
for <tt class="docutils literal">TCPClient</tt> .  All the adapters use are the methods
in <tt class="docutils literal">FingerService</tt> they are declared to use:<tt class="docutils literal">getUser</tt> /<tt class="docutils literal">getUsers</tt> . We could, of course, skip the
interfaces and let the configuration code use things
like <tt class="docutils literal">FingerFactoryFromService(f)</tt> directly. However, using
interfaces provides the same flexibility inheritance gives: future subclasses
can override the adapters.</p>
<p><cite>finger19.tac &lt;listings/finger/finger19.tac&gt;</cite></p>
</div>
<div class="section" id="advantages-of-latest-version">
<h2><a class="toc-backref" href="#id3">Advantages of Latest Version</a></h2>
<ul class="simple">
<li>Readable -- each class is short</li>
<li>Maintainable -- each class knows only about interfaces</li>
<li>Dependencies between code parts are minimized</li>
<li>Example: writing a new <tt class="docutils literal">IFingerService</tt> is easy</li>
</ul>
<p><cite>finger19a_changes.py &lt;listings/finger/finger19a_changes.py&gt;</cite></p>
<p>Full source code here:</p>
<p><cite>finger19a.tac &lt;listings/finger/finger19a.tac&gt;</cite></p>
</div>
<div class="section" id="aspect-oriented-programming">
<h2><a class="toc-backref" href="#id4">Aspect-Oriented Programming</a></h2>
<p>At last, an example of aspect-oriented programming that isn't about logging
or timing. This code is actually useful! Watch how aspect-oriented programming
helps you write less code and have fewer dependencies!</p>

</div>

        </div>
        </div>
        </div>
<div class="sphinxsidebar">
<div class="sphinxsidebarwrapper">
<div class="toc" id="">
<p class="topic-title">Table Of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id1">Introduction</a></li>
<li><a class="reference internal" href="#write-maintainable-code" id="id2">Write Maintainable Code</a></li>
<li><a class="reference internal" href="#advantages-of-latest-version" id="id3">Advantages of Latest Version</a></li>
<li><a class="reference internal" href="#aspect-oriented-programming" id="id4">Aspect-Oriented Programming</a></li>
</ul>
</div>
</div>
</div>    </div>

    </section>

        <div id="footer"><hr>
                <div> </div>
                <p class="left2">
        Copyright 2021, Twisted Matrix Labs. Ver 21.2.0. Built on 2021-02-28.<br />
        Site design<br />
        By <a href="http://huw.ugbox.net/">huw.wilkins.</a>

                </p>
                <p class="right"></p>
        </div>


</body>
</html>