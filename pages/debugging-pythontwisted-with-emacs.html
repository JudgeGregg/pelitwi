<!DOCTYPE html>
<html lang="en">
<head>
          <title>Test Pelican - Debugging Python(Twisted) with Emacs</title>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />

        <meta name="Description" content="An event-driven networking engine written in Python and MIT licensed." />

        <link rel="stylesheet" type="text/css" href="https://judgegregg.github.io/pelitwi/theme/css/twistedtrac.css" />


</head>

<body>
        <div id="banner">
                <div id="top_grad"></div>
                <div id="tab">
                        <a href="https://twistedmatrix.com/trac/wiki">HOME</a>
                        <a href="https://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions">FAQ</a>
                        <a href="/">DOCS</a>
                        <a href="https://twistedmatrix.com/trac/wiki/Downloads">DOWNLOAD</a>
                </div>

                <div id="header">
                        <a id="logo" href="https://judgegregg.github.io/pelitwi/"><img src="https://judgegregg.github.io/pelitwi/theme/images/trac_banner.png" alt="Twisted" /></a>
                </div>
        </div>

<div id="mainnav" class="related">
	<ul>
		<li><a href="https://judgegregg.github.io/pelitwi">Twisted 21.2.0 documentation</a> Â»</li>
	</ul>
</div>
        <div id="ctxtnav" class="nav">
        </div>

    <section>

    <div class="document">
        <div class="documentwrapper">
        <div class="bodywrapper">
        <h1>Debugging Python(Twisted) with Emacs</h1>
        
        <div class="entry-content">
        <ul>
<li><p class="first">Open up your project files. sometimes emacs can't find them if you
don't have them open before-hand.</p>
</li>
<li><p class="first">Make sure you have a program called <tt class="docutils literal">pdb</tt> somewhere
in your PATH, with the following contents:</p>
<div class="highlight"><pre><span></span><span class="gp">#</span>!/bin/sh
<span class="go">exec python -m pdb $1 $2 $3 $4 $5 $6 $7 $8 $9</span>
</pre></div>
</li>
<li><p class="first">Run <tt class="docutils literal"><span class="pre">M-x</span> pdb</tt> in emacs. If you usually run your
program as <tt class="docutils literal">python foo.py</tt> , your command line should be <tt class="docutils literal">pdb foo.py</tt> , for <tt class="docutils literal">twistd</tt> and <tt class="docutils literal">trial</tt> just
add -b to the command line, e.g.: <tt class="docutils literal">twistd <span class="pre">-b</span> <span class="pre">-y</span>&nbsp; my.tac</tt></p>
</li>
<li><p class="first">While pdb waits for your input, go to a place in your code and hit
<tt class="docutils literal"><span class="pre">C-x</span> SPC</tt> to insert a break-point. pdb should say something happy.
Do this in as many points as you wish.</p>
</li>
<li><p class="first">Go to your pdb buffer and hit <tt class="docutils literal">c</tt> ; this runs as normal until a
break-point is found.</p>
</li>
<li><p class="first">Once you get to a breakpoint, use <tt class="docutils literal">s</tt> to step, <tt class="docutils literal">n</tt> to run the
current line without stepping through the functions it calls, <tt class="docutils literal">w</tt>
to print out the current stack, <tt class="docutils literal">u</tt> and <tt class="docutils literal">d</tt> to go up and down a
level in the stack, <tt class="docutils literal">p foo</tt> to print result of expression <tt class="docutils literal">foo</tt> .</p>
</li>
<li><p class="first">Recommendations for effective debugging:</p>
<ul class="simple">
<li>use <tt class="docutils literal">p self</tt> a lot; just knowing the class where the current code
is isn't enough most of the time.</li>
<li>use <tt class="docutils literal">w</tt> to get your bearings, it'll re-display the current-line/arrow</li>
<li>after you use <tt class="docutils literal">w</tt> , use <tt class="docutils literal">u</tt> and <tt class="docutils literal">d</tt> and lots more <tt class="docutils literal">p self</tt> on the
different stack-levels.</li>
<li>If you've got a big code-path that you need to grok, keep another
buffer open and list the code-path there (e.g., I had a
nasty-evil Deferred recursion, and this helped me tons)</li>
</ul>
</li>
</ul>
<p class="rubric">Footnotes</p>

        </div>
        </div>
        </div>
<div class="sphinxsidebar">
<div class="sphinxsidebarwrapper">
</div>
</div>    </div>

    </section>

        <div id="footer"><hr>
                <div> </div>
                <p class="left2">
        Copyright 2021, Twisted Matrix Labs. Ver 21.2.0. Built on 2021-02-28.<br />
        Site design<br />
        By <a href="http://huw.ugbox.net/">huw.wilkins.</a>

                </p>
                <p class="right"></p>
        </div>


</body>
</html>