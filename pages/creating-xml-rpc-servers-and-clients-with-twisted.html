<!DOCTYPE html>
<html lang="en">
<head>
          <title>Test Pelican - Creating XML-RPC Servers and Clients with Twisted</title>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />

        <meta name="Description" content="An event-driven networking engine written in Python and MIT licensed." />

        <link rel="stylesheet" type="text/css" href="https://judgegregg.github.io/pelitwi/theme/css/twistedtrac.css" />


</head>

<body>
        <div id="banner">
                <div id="top_grad"></div>
                <div id="tab">
                        <a href="https://twistedmatrix.com/trac/wiki">HOME</a>
                        <a href="https://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions">FAQ</a>
                        <a href="/">DOCS</a>
                        <a href="https://twistedmatrix.com/trac/wiki/Downloads">DOWNLOAD</a>
                </div>

                <div id="header">
                        <a id="logo" href="https://judgegregg.github.io/pelitwi/"><img src="https://judgegregg.github.io/pelitwi/theme/images/trac_banner.png" alt="Twisted" /></a>
                </div>
        </div>

<div id="mainnav" class="related">
	<ul>
		<li><a href="https://judgegregg.github.io/pelitwi">Twisted 21.2.0 documentation</a> Â»</li>
	</ul>
</div>
        <div id="ctxtnav" class="nav">
        </div>

    <section>

    <div class="document">
        <div class="documentwrapper">
        <div class="bodywrapper">
        <h1>Creating XML-RPC Servers and Clients with Twisted</h1>
        
        <div class="entry-content">
        <div class="section" id="introduction">
<h2><a class="toc-backref" href="#id1">Introduction</a></h2>
<p><a class="reference external" href="http://www.xmlrpc.com">XML-RPC</a> is a simple request/reply protocol
that runs over HTTP. It is simple, easy to implement and supported by most programming
languages. Twisted's XML-RPC support is implemented using the`xmlrpclib &lt;<a class="reference external" href="http://docs.python.org/library/xmlrpclib.html">http://docs.python.org/library/xmlrpclib.html</a>&gt;`_ library that is
included with Python 2.2 and later.</p>
</div>
<div class="section" id="creating-a-xml-rpc-server">
<h2><a class="toc-backref" href="#id2">Creating a XML-RPC server</a></h2>
<p>Making a server is very easy - all you need to do is inherit from <cite>twisted.web.xmlrpc.XMLRPC</cite> .
You then create methods beginning with <tt class="docutils literal">xmlrpc_</tt> . The methods'
arguments determine what arguments it will accept from XML-RPC clients.
The result is what will be returned to the clients.</p>
<p>Methods published via XML-RPC can return all the basic XML-RPC
types, such as strings, lists and so on (just return a regular python
integer, etc).  They can also raise exceptions or return Failure instances to indicate an
error has occurred, or <tt class="docutils literal">Binary</tt> , <tt class="docutils literal">Boolean</tt> or <tt class="docutils literal">DateTime</tt>
instances (all of these are the same as the respective classes in xmlrpclib. In
addition, XML-RPC published methods can return <cite>Deferred &lt;twisted.internet.defer.Deferred&gt;</cite> instances whose results are one of the above. This allows
you to return results that can't be calculated immediately, such as database queries.
See the <a class="reference external" href="https://judgegregg.github.io/pelitwi/pages/deferred-reference.html">Deferred documentation</a> for more
details.</p>
<p><cite>XMLRPC &lt;twisted.web.xmlrpc.XMLRPC&gt;</cite> instances
are Resource objects, and they can thus be published using a Site. The
following example has two methods published via XML-RPC, <tt class="docutils literal">add(a, b)</tt> and <tt class="docutils literal">echo(x)</tt> .</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">twisted.web</span> <span class="kn">import</span> <span class="n">xmlrpc</span><span class="p">,</span> <span class="n">server</span>

<span class="k">class</span> <span class="nc">Example</span><span class="p">(</span><span class="n">xmlrpc</span><span class="o">.</span><span class="n">XMLRPC</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    An example object to be published.</span>
<span class="sd">    """</span>

    <span class="k">def</span> <span class="nf">xmlrpc_echo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Return all passed args.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="n">x</span>

    <span class="k">def</span> <span class="nf">xmlrpc_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Return sum of arguments.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

    <span class="k">def</span> <span class="nf">xmlrpc_fault</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Raise a Fault indicating that the procedure should not be used.</span>
<span class="sd">        """</span>
        <span class="k">raise</span> <span class="n">xmlrpc</span><span class="o">.</span><span class="n">Fault</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s2">"The fault procedure is faulty."</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">twisted.internet</span> <span class="kn">import</span> <span class="n">reactor</span><span class="p">,</span> <span class="n">endpoints</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">Example</span><span class="p">()</span>
    <span class="n">endpoint</span> <span class="o">=</span> <span class="n">endpoints</span><span class="o">.</span><span class="n">TCP4ServerEndpoint</span><span class="p">(</span><span class="n">reactor</span><span class="p">,</span> <span class="mi">7080</span><span class="p">)</span>
    <span class="n">endpoint</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">Site</span><span class="p">(</span><span class="n">r</span><span class="p">))</span>
    <span class="n">reactor</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
<p>After we run this command, we can connect with a client and send commands
to the server:</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">xmlrpclib</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">xmlrpclib</span><span class="o">.</span><span class="n">Server</span><span class="p">(</span><span class="s1">'http://localhost:7080/'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="s2">"lala"</span><span class="p">)</span>
<span class="go">'lala'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">fault</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">xmlrpclib.Fault</span>: <span class="n">&lt;Fault 123: 'The fault procedure is faulty.'&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
<p>If the <cite>Request &lt;twisted.web.server.Request&gt;</cite> object is
needed by an <tt class="docutils literal">xmlrpc_*</tt> method, it can be made available using
the <cite>twisted.web.xmlrpc.withRequest</cite> decorator.  When
using this decorator, the method will be passed the request object as the first
argument, before any XML-RPC parameters.  For example:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">twisted.web.xmlrpc</span> <span class="kn">import</span> <span class="n">XMLRPC</span><span class="p">,</span> <span class="n">withRequest</span>
<span class="kn">from</span> <span class="nn">twisted.web.server</span> <span class="kn">import</span> <span class="n">Site</span>

<span class="k">class</span> <span class="nc">Example</span><span class="p">(</span><span class="n">XMLRPC</span><span class="p">):</span>
    <span class="nd">@withRequest</span>
    <span class="k">def</span> <span class="nf">xmlrpc_headerValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">headerName</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="n">requestHeaders</span><span class="o">.</span><span class="n">getRawHeaders</span><span class="p">(</span><span class="n">headerName</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">twisted.internet</span> <span class="kn">import</span> <span class="n">reactor</span><span class="p">,</span> <span class="n">endpoints</span>
    <span class="n">endpoint</span> <span class="o">=</span> <span class="n">endpoints</span><span class="o">.</span><span class="n">TCP4ServerEndpoint</span><span class="p">(</span><span class="n">reactor</span><span class="p">,</span> <span class="mi">7080</span><span class="p">)</span>
    <span class="n">endpoint</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="n">Site</span><span class="p">(</span><span class="n">Example</span><span class="p">()))</span>
    <span class="n">reactor</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
<p>XML-RPC resources can also be part of a normal Twisted web server, using
resource scripts. The following is an example of such a resource script:</p>
<p><cite>xmlquote.rpy &lt;listings/xmlquote.rpy&gt;</cite></p>
<div class="section" id="using-xml-rpc-sub-handlers">
<h3><a class="toc-backref" href="#id3">Using XML-RPC sub-handlers</a></h3>
<p>XML-RPC resource can be nested so that one handler calls another if
a method with a given prefix is called. For example, to add support
for an XML-RPC method <tt class="docutils literal">date.time()</tt> to
the <tt class="docutils literal">Example</tt> class, you could do the
following:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">twisted.web</span> <span class="kn">import</span> <span class="n">xmlrpc</span><span class="p">,</span> <span class="n">server</span>

<span class="k">class</span> <span class="nc">Example</span><span class="p">(</span><span class="n">xmlrpc</span><span class="o">.</span><span class="n">XMLRPC</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    An example object to be published.</span>
<span class="sd">    """</span>

    <span class="k">def</span> <span class="nf">xmlrpc_echo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Return all passed args.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="n">x</span>

    <span class="k">def</span> <span class="nf">xmlrpc_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Return sum of arguments.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="k">class</span> <span class="nc">Date</span><span class="p">(</span><span class="n">xmlrpc</span><span class="o">.</span><span class="n">XMLRPC</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Serve the XML-RPC 'time' method.</span>
<span class="sd">    """</span>

    <span class="k">def</span> <span class="nf">xmlrpc_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Return UNIX time.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">twisted.internet</span> <span class="kn">import</span> <span class="n">reactor</span><span class="p">,</span> <span class="n">endpoints</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">Example</span><span class="p">()</span>
    <span class="n">date</span> <span class="o">=</span> <span class="n">Date</span><span class="p">()</span>
    <span class="n">r</span><span class="o">.</span><span class="n">putSubHandler</span><span class="p">(</span><span class="s1">'date'</span><span class="p">,</span> <span class="n">date</span><span class="p">)</span>
    <span class="n">endpoint</span> <span class="o">=</span> <span class="n">endpoints</span><span class="o">.</span><span class="n">TCP4ServerEndpoint</span><span class="p">(</span><span class="n">reactor</span><span class="p">,</span> <span class="mi">7080</span><span class="p">)</span>
    <span class="n">endpoint</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">Site</span><span class="p">(</span><span class="n">r</span><span class="p">))</span>
    <span class="n">reactor</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
<p>By default, a period ('.') separates the prefix from the method
name, but you can use a different character by overriding the <tt class="docutils literal">XMLRPC.separator</tt> data member in your base
XML-RPC server. XML-RPC servers may be nested to arbitrary depths
using this method.</p>
</div>
<div class="section" id="using-your-own-procedure-getter">
<h3><a class="toc-backref" href="#id4">Using your own procedure getter</a></h3>
<p>Sometimes, you want to implement your own policy of getting the end implementation.
E.g. just like sub-handlers you want to divide the implementations into separate classes but
may not want to introduce <tt class="docutils literal">XMLRPC.separator</tt> in the procedure name.
In such cases just override the <tt class="docutils literal">lookupProcedure(self, procedurePath)</tt>
method and return the correct callable.
Raise <cite>twisted.web.xmlrpc.NoSuchFunction</cite> otherwise.</p>
<p><cite>xmlrpc-customized.py &lt;listings/xmlrpc-customized.py&gt;</cite></p>
</div>
<div class="section" id="adding-xml-rpc-introspection-support">
<h3><a class="toc-backref" href="#id5">Adding XML-RPC Introspection support</a></h3>
<p>XML-RPC has an
informal <a class="reference external" href="http://tldp.org/HOWTO/XML-RPC-HOWTO/xmlrpc-howto-interfaces.html">IntrospectionAPI</a> that specifies three methods in a <tt class="docutils literal">system</tt>
sub-handler which allow a client to query a server about the server's
API. Adding Introspection support to
the <tt class="docutils literal">Example</tt> class is easy using
the <cite>XMLRPCIntrospection &lt;twisted.web.xmlrpc.XMLRPCIntrospection&gt;</cite> class:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">twisted.web</span> <span class="kn">import</span> <span class="n">xmlrpc</span><span class="p">,</span> <span class="n">server</span>

<span class="k">class</span> <span class="nc">Example</span><span class="p">(</span><span class="n">xmlrpc</span><span class="o">.</span><span class="n">XMLRPC</span><span class="p">):</span>
    <span class="sd">"""An example object to be published."""</span>

    <span class="k">def</span> <span class="nf">xmlrpc_echo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="sd">"""Return all passed args."""</span>
        <span class="k">return</span> <span class="n">x</span>

    <span class="n">xmlrpc_echo</span><span class="o">.</span><span class="n">signature</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">'string'</span><span class="p">,</span> <span class="s1">'string'</span><span class="p">],</span>
                             <span class="p">[</span><span class="s1">'int'</span><span class="p">,</span> <span class="s1">'int'</span><span class="p">],</span>
                             <span class="p">[</span><span class="s1">'double'</span><span class="p">,</span> <span class="s1">'double'</span><span class="p">],</span>
                             <span class="p">[</span><span class="s1">'array'</span><span class="p">,</span> <span class="s1">'array'</span><span class="p">],</span>
                             <span class="p">[</span><span class="s1">'struct'</span><span class="p">,</span> <span class="s1">'struct'</span><span class="p">]]</span>

    <span class="k">def</span> <span class="nf">xmlrpc_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="sd">"""Return sum of arguments."""</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

    <span class="n">xmlrpc_add</span><span class="o">.</span><span class="n">signature</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">'int'</span><span class="p">,</span> <span class="s1">'int'</span><span class="p">,</span> <span class="s1">'int'</span><span class="p">],</span>
                            <span class="p">[</span><span class="s1">'double'</span><span class="p">,</span> <span class="s1">'double'</span><span class="p">,</span> <span class="s1">'double'</span><span class="p">]]</span>
    <span class="n">xmlrpc_add</span><span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">"Add the arguments and return the sum."</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">twisted.internet</span> <span class="kn">import</span> <span class="n">reactor</span><span class="p">,</span> <span class="n">endpoints</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">Example</span><span class="p">()</span>
    <span class="n">xmlrpc</span><span class="o">.</span><span class="n">addIntrospection</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
    <span class="n">endpoint</span> <span class="o">=</span> <span class="n">endpoints</span><span class="o">.</span><span class="n">TCP4ServerEndpoint</span><span class="p">(</span><span class="n">reactor</span><span class="p">,</span> <span class="mi">7080</span><span class="p">)</span>
    <span class="n">endpoint</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">Site</span><span class="p">(</span><span class="n">r</span><span class="p">))</span>
    <span class="n">reactor</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
<p>Note the method attributes <tt class="docutils literal">help</tt>
and <tt class="docutils literal">signature</tt> which are used by the
Introspection API methods <tt class="docutils literal">system.methodHelp</tt>
and <tt class="docutils literal">system.methodSignature</tt> respectively. If
no <tt class="docutils literal">help</tt> attribute is specified, the
method's documentation string is used instead.</p>
</div>
</div>
<div class="section" id="soap-support">
<h2><a class="toc-backref" href="#id6">SOAP Support</a></h2>
<p>From the point of view of a Twisted developer, there is little difference
between XML-RPC support and SOAP support. Here is an example of SOAP usage:</p>
<p><cite>soap.rpy &lt;listings/soap.rpy&gt;</cite></p>
</div>
<div class="section" id="creating-an-xml-rpc-client">
<h2><a class="toc-backref" href="#id7">Creating an XML-RPC Client</a></h2>
<p>XML-RPC clients in Twisted are meant to look as something which will be
familiar either to <tt class="docutils literal">xmlrpclib</tt> or to Perspective Broker users,
taking features from both, as appropriate. There are two major deviations
from the <tt class="docutils literal">xmlrpclib</tt> way which should be noted:</p>
<ol class="arabic simple">
<li>No implicit <tt class="docutils literal">/RPC2</tt> . If the services uses this path for the
XML-RPC calls, then it will have to be given explicitly.</li>
<li>No magic <tt class="docutils literal">__getattr__</tt> : calls must be made by an explicit
<tt class="docutils literal">callRemote</tt> .</li>
</ol>
<p>The interface Twisted presents to XML-RPC client is that of a proxy
object: <cite>twisted.web.xmlrpc.Proxy</cite> . The
constructor for the object receives a URL: it must be an HTTP or HTTPS
URL. When an XML-RPC service is described, the URL to that service
will be given there.</p>
<p>Having a proxy object, one can just call the <tt class="docutils literal">callRemote</tt> method,
which accepts a method name and a variable argument list (but no named
arguments, as these are not supported by XML-RPC). It returns a deferred,
which will be called back with the result. If there is any error, at any
level, the errback will be called. The exception will be the relevant Twisted
error in the case of a problem with the underlying connection (for example,
a timeout), <tt class="docutils literal">IOError</tt> containing the status and message in the case
of a non-200 status or a <tt class="docutils literal">xmlrpclib.Fault</tt> in the case of an
XML-RPC level problem.</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">twisted.web.xmlrpc</span> <span class="kn">import</span> <span class="n">Proxy</span>
<span class="kn">from</span> <span class="nn">twisted.internet</span> <span class="kn">import</span> <span class="n">reactor</span>

<span class="k">def</span> <span class="nf">printValue</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
    <span class="n">reactor</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">printError</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'error'</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>
    <span class="n">reactor</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>

<span class="n">proxy</span> <span class="o">=</span> <span class="n">Proxy</span><span class="p">(</span><span class="s1">'http://advogato.org/XMLRPC'</span><span class="p">)</span>
<span class="n">proxy</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s1">'test.sumprod'</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">addCallbacks</span><span class="p">(</span><span class="n">printValue</span><span class="p">,</span> <span class="n">printError</span><span class="p">)</span>
<span class="n">reactor</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
<p>prints:</p>
<pre class="literal-block">
[8, 15]
</pre>
</div>
<div class="section" id="debugging-with-an-xml-rpc-client">
<h2><a class="toc-backref" href="#id8">Debugging with an XML-RPC client</a></h2>
<p>Sometimes an XML-RPC server may send non-standard XML-RPC responses to your
client. In those cases, you can access the raw XML-RPC responses from the
server with <cite>twisted.web.xmlrpc</cite>'s <tt class="docutils literal">QueryFactory</tt>.</p>
<p>You can simply log the response content strings for debugging, or implement
your own custom XML-RPC marshaller to handle the non-standard XML-RPC
responses.</p>
<p>An example Twisted application that does this can be found in
<tt class="docutils literal"><span class="pre">docs/web/examples/xmlrpc-debug.py</span></tt> .</p>
</div>
<div class="section" id="serving-soap-and-xml-rpc-simultaneously">
<h2><a class="toc-backref" href="#id9">Serving SOAP and XML-RPC simultaneously</a></h2>
<p><cite>twisted.web.xmlrpc.XMLRPC</cite> and <cite>twisted.web.soap.SOAPPublisher</cite> are both <cite>Resource &lt;twisted.web.resource.Resource&gt;</cite> s.  So, to serve both XML-RPC and
SOAP in the one web server, you can use the <cite>putChild &lt;twisted.web.resource.IResource.putChild&gt;</cite> method of Resource.</p>
<p>The following example uses an empty <cite>resource.Resource &lt;twisted.web.resource.Resource&gt;</cite> as the root resource for
a <cite>Site &lt;twisted.web.server.Site&gt;</cite> , and then
adds <tt class="docutils literal">/RPC2</tt> and <tt class="docutils literal">/SOAP</tt> paths to it.</p>
<p><cite>xmlAndSoapQuote.py &lt;listings/xmlAndSoapQuote.py&gt;</cite></p>
<p>Refer to <cite>Twisted Web
Development &lt;web-howto-using-twistedweb-development&gt;</cite> for more details about Resources.</p>

</div>

        </div>
        </div>
        </div>
<div class="sphinxsidebar">
<div class="sphinxsidebarwrapper">
<div class="toc" id="">
<p class="topic-title">Table Of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id1">Introduction</a></li>
<li><a class="reference internal" href="#creating-a-xml-rpc-server" id="id2">Creating a XML-RPC server</a><ul>
<li><a class="reference internal" href="#using-xml-rpc-sub-handlers" id="id3">Using XML-RPC sub-handlers</a></li>
<li><a class="reference internal" href="#using-your-own-procedure-getter" id="id4">Using your own procedure getter</a></li>
<li><a class="reference internal" href="#adding-xml-rpc-introspection-support" id="id5">Adding XML-RPC Introspection support</a></li>
</ul>
</li>
<li><a class="reference internal" href="#soap-support" id="id6">SOAP Support</a></li>
<li><a class="reference internal" href="#creating-an-xml-rpc-client" id="id7">Creating an XML-RPC Client</a></li>
<li><a class="reference internal" href="#debugging-with-an-xml-rpc-client" id="id8">Debugging with an XML-RPC client</a></li>
<li><a class="reference internal" href="#serving-soap-and-xml-rpc-simultaneously" id="id9">Serving SOAP and XML-RPC simultaneously</a></li>
</ul>
</div>
</div>
</div>    </div>

    </section>

        <div id="footer"><hr>
                <div> </div>
                <p class="left2">
        Copyright 2021, Twisted Matrix Labs. Ver 21.2.0. Built on 2021-02-28.<br />
        Site design<br />
        By <a href="http://huw.ugbox.net/">huw.wilkins.</a>

                </p>
                <p class="right"></p>
        </div>


</body>
</html>