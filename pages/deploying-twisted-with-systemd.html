<!DOCTYPE html>
<html lang="en">
<head>
          <title>Test Pelican - Deploying Twisted with systemd</title>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />

        <meta name="Description" content="An event-driven networking engine written in Python and MIT licensed." />

        <link rel="stylesheet" type="text/css" href="https://judgegregg.github.io/pelitwi/theme/css/twistedtrac.css" />


</head>

<body>
        <div id="banner">
                <div id="top_grad"></div>
                <div id="tab">
                        <a href="https://twistedmatrix.com/trac/wiki">HOME</a>
                        <a href="https://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions">FAQ</a>
                        <a href="/">DOCS</a>
                        <a href="https://twistedmatrix.com/trac/wiki/Downloads">DOWNLOAD</a>
                </div>

                <div id="header">
                        <a id="logo" href="https://judgegregg.github.io/pelitwi/"><img src="https://judgegregg.github.io/pelitwi/theme/images/trac_banner.png" alt="Twisted" /></a>
                </div>
        </div>

<div id="mainnav" class="related">
	<ul>
		<li><a href="https://judgegregg.github.io/pelitwi">Twisted 21.2.0 documentation</a> »</li>
	</ul>
</div>
        <div id="ctxtnav" class="nav">
        </div>

    <section>

    <div class="document">
        <div class="documentwrapper">
        <div class="bodywrapper">
        <h1>Deploying Twisted with systemd</h1>
        
        <div class="entry-content">
        <div class="section" id="introduction">
<h2><a class="toc-backref" href="#id2">Introduction</a></h2>
<p>In this tutorial you will learn how to start a Twisted service using <tt class="docutils literal">systemd</tt>.
You will also learn how to start the service using <tt class="docutils literal">socket activation</tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The examples in this tutorial demonstrate how to launch a Twisted web server, but the same techniques apply to any Twisted service.</p>
</div>
</div>
<div class="section" id="prerequisites">
<h2><a class="toc-backref" href="#id3">Prerequisites</a></h2>
<p>Twisted</p>
<blockquote>
<p>You will need a version of Twisted &gt;= 12.2 for the socket activation section of this tutorial.</p>
<p>This tutorial was written on a Fedora 18 Linux operating system with a system wide installation of Twisted and Twisted Web.</p>
<p>If you have installed Twisted locally eg in your home directory or in a virtualenv, you will need to modify the paths in some of the following examples.</p>
<p>Test your Twisted installation by starting a <tt class="docutils literal">twistd web</tt> server on TCP port 8080 with the following command:</p>
<div class="highlight"><pre><span></span><span class="gp">$ </span>twistd --nodaemon web --listen tcp:8080 --path /srv/www/www.example.com/static
<span class="go">2013-01-28 13:21:35+0000 [-] Log opened.</span>
<span class="go">2013-01-28 13:21:35+0000 [-] twistd 12.3.0 (/usr/bin/python 2.7.3) starting up.</span>
<span class="go">2013-01-28 13:21:35+0000 [-] reactor class: twisted.internet.epollreactor.EPollReactor.</span>
<span class="go">2013-01-28 13:21:35+0000 [-] Site starting on 8080</span>
<span class="go">2013-01-28 13:21:35+0000 [-] Starting factory &lt;twisted.web.server.Site instance at 0x7f57eb66efc8&gt;</span>
</pre></div>
<p>This assumes that you have the following static web page in the following directory structure:</p>
<div class="highlight"><pre><span></span><span class="gp"># </span>tree /srv/
<span class="go">/srv/</span>
<span class="go">└── www</span>
<span class="go">    └── www.example.com</span>
<span class="go">        └── static</span>
<span class="go">            └── index.html</span>
</pre></div>
<pre class="literal-block">
&lt;!doctype html&gt;
&lt;html lang=en&gt;
  &lt;head&gt;
    &lt;meta charset=utf-8&gt;
    &lt;title&gt;Example Site&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Example Site&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Now try connecting to <a class="reference external" href="http://localhost:8080">http://localhost:8080</a> in your web browser.</p>
<p>If you do not see your web page or if <tt class="docutils literal">twistd</tt> didn't start, you should investigate and fix the problem before continuing.</p>
</blockquote>
</div>
<div class="section" id="basic-systemd-service-configuration">
<h2><a class="toc-backref" href="#id4">Basic Systemd Service Configuration</a></h2>
<p>The essential configuration file for a <tt class="docutils literal">systemd</tt> service is the <a class="reference external" href="http://www.freedesktop.org/software/systemd/man/systemd.service.html">service</a> file.</p>
<p>Later in this tutorial, you will learn about some other types of configuration file, which are used to control when and how your service is started.</p>
<p>But we will begin by configuring <tt class="docutils literal">systemd</tt> to start a Twisted web server immediately on system boot.</p>
<div class="section" id="create-a-systemd-service-file">
<h3><a class="toc-backref" href="#id5">Create a systemd.service file</a></h3>
<p>Create the <a class="reference external" href="http://www.freedesktop.org/software/systemd/man/systemd.service.html">service</a> file at <tt class="docutils literal">/etc/systemd/system/www.example.com.service</tt> with the following content:</p>
<p><cite>/etc/systemd/system/www.example.com.service &lt;listings/systemd/www.example.com.static.service&gt;</cite></p>
<blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field"><th class="field-name">language:</th><td class="field-body">ini</td>
</tr>
</tbody>
</table>
</blockquote>
<p>This configuration file contains the following note worthy directives:</p>
<p>ExecStart</p>
<blockquote>
<p>Always include the full path to <tt class="docutils literal">twistd</tt> in case you have multiple versions installed.</p>
<p>The <tt class="docutils literal"><span class="pre">--nodaemon</span></tt> flag makes <tt class="docutils literal">twistd</tt> run in the foreground.
Systemd works best with child processes that remain in the foreground.</p>
<p>The <tt class="docutils literal"><span class="pre">--pidfile=</span></tt> flag prevents <tt class="docutils literal">twistd</tt> from writing a pidfile.
A pidfile is not necessary when Twisted runs as a foreground process.</p>
<p>The <tt class="docutils literal"><span class="pre">--path</span></tt> flag specifies the location of the website files.
In this example we use "." which makes <tt class="docutils literal">twistd</tt> serve files from its current working directory (see below).</p>
</blockquote>
<p>WorkingDirectory</p>
<blockquote>
<p>Systemd can configure the working environment of its child processes.</p>
<p>In this example the working directory of <tt class="docutils literal">twistd</tt> is set to that of the static website.</p>
</blockquote>
<p>User / Group</p>
<blockquote>
<p>Systemd can also control the effective user and group of its child processes.</p>
<p>This example uses an un-privileged user "nobody" and un-privileged group "nobody".</p>
<p>This is an important security measure which ensures that the Twisted sub-process can not access restricted areas of the file system.</p>
</blockquote>
<p>Restart</p>
<blockquote>
<p>Systemd can automatically restart a child process if it exits or crashes unexpectedly.</p>
<p>In this example the <tt class="docutils literal">Restart</tt> option is set to <tt class="docutils literal">always</tt>, which ensures that <tt class="docutils literal">twistd</tt> will be restarted under all circumstances.</p>
</blockquote>
<p>WantedBy</p>
<blockquote>
<p>Systemd service dependencies are controlled by <tt class="docutils literal">WantedBy</tt> and <tt class="docutils literal">RequiredBy</tt> directives in the <tt class="docutils literal">[Install]</tt> section of configuration file.</p>
<p>The special <a class="reference external" href="http://www.freedesktop.org/software/systemd/man/systemd.special.html#multi-user.target">multi-user.target</a> is used in this example so that <tt class="docutils literal">systemd</tt> starts the <tt class="docutils literal">twistd web</tt> service when it reaches the multi-user stage of the boot sequence.</p>
</blockquote>
<p>There are many more service directives which are documented in the <a class="reference external" href="http://www.freedesktop.org/software/systemd/man/systemd.directives.html">systemd.directives man page</a>.</p>
</div>
<div class="section" id="reload-systemd">
<h3><a class="toc-backref" href="#id6">Reload <tt class="docutils literal">systemd</tt></a></h3>
<div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl daemon-reload
</pre></div>
<p>This forces <tt class="docutils literal">systemd</tt> to read the new configuration file.</p>
<p>Always run <tt class="docutils literal">systemctl <span class="pre">daemon-reload</span></tt> after changing any of the <tt class="docutils literal">systemd</tt> configuration files.</p>
</div>
<div class="section" id="start-the-service">
<h3><a class="toc-backref" href="#id7">Start the service</a></h3>
<div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl start www.example.com
</pre></div>
<p><tt class="docutils literal">twistd</tt> should now be running and listening on TCP port 8080. You can verify this using the <tt class="docutils literal">systemctl status</tt> command. eg</p>
<div class="highlight"><pre><span></span><span class="gp">$ </span>systemctl status www.example.com.service
<span class="go">www.example.com.service - Example Web Server</span>
<span class="go">          Loaded: loaded (/etc/systemd/system/www.example.com.service; enabled)</span>
<span class="go">          Active: active (running) since Mon 2013-01-28 16:16:26 GMT; 1s ago</span>
<span class="go">        Main PID: 10695 (twistd)</span>
<span class="go">          CGroup: name=systemd:/system/www.example.com.service</span>
<span class="go">                  └─10695 /usr/bin/python /usr/bin/twistd --nodaemon --pidfile= web --listen tcp:8080 --path .</span>

<span class="go">Jan 28 16:16:26 zorin.lan systemd[1]: Starting Example Web Server...</span>
<span class="go">Jan 28 16:16:26 zorin.lan systemd[1]: Started Example Web Server.</span>
<span class="go">Jan 28 16:16:26 zorin.lan twistd[10695]: 2013-01-28 16:16:26+0000 [-] Log opened.</span>
<span class="go">Jan 28 16:16:26 zorin.lan twistd[10695]: 2013-01-28 16:16:26+0000 [-] twistd 12.1.0 (/usr/bin/python 2.7.3) starting up.</span>
<span class="go">Jan 28 16:16:26 zorin.lan twistd[10695]: 2013-01-28 16:16:26+0000 [-] reactor class: twisted.internet.epollreactor.EPollReactor.</span>
<span class="go">Jan 28 16:16:26 zorin.lan twistd[10695]: 2013-01-28 16:16:26+0000 [-] Site starting on 8080</span>
<span class="go">Jan 28 16:16:26 zorin.lan twistd[10695]: 2013-01-28 16:16:26+0000 [-] Starting factory &lt;twisted.web.server.Site instance at 0x159b758&gt;</span>
</pre></div>
<p>The <tt class="docutils literal">systemctl status</tt> command is convenient because it shows you both the current status of the service and a short log of the service output.</p>
<p>This is especially useful for debugging and diagnosing service startup problems.</p>
<p>The <tt class="docutils literal">twistd</tt> subprocess will log messages to <tt class="docutils literal">stderr</tt> and <tt class="docutils literal">systemd</tt> will log these messages to syslog.
You can verify this by monitoring the syslog messages or by using the new <tt class="docutils literal">journalctl</tt> tool in Fedora.</p>
<p>See the <a class="reference external" href="http://www.freedesktop.org/software/systemd/man/systemctl.html">systemctl man page</a> for details of other <tt class="docutils literal">systemctl</tt> command line options.</p>
</div>
<div class="section" id="enable-the-service">
<h3><a class="toc-backref" href="#id8">Enable the service</a></h3>
<p>We've seen how to start the service manually, but now we need to "enable" it so that it starts automatically at boot time.</p>
<p>Enable the service with the following command:</p>
<div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl <span class="nb">enable</span> www.example.com.service
<span class="go">ln -s '/etc/systemd/system/www.example.com.service' '/etc/systemd/system/multi-user.target.wants/www.example.com.service'</span>
</pre></div>
<p>This creates a symlink to the service file in the <tt class="docutils literal"><span class="pre">multi-user.target.wants</span></tt> directory.</p>
<p>The Twisted web server will now be started automatically at boot time.</p>
<p>The <tt class="docutils literal"><span class="pre">multi-user.target</span></tt> is an example of a <a class="reference external" href="http://www.freedesktop.org/software/systemd/man/systemd.special.html">"special" systemd unit</a>.
Later in this tutorial you will learn how to use another special unit - the <tt class="docutils literal">sockets.target</tt>.</p>
</div>
<div class="section" id="test-that-the-service-is-automatically-restarted">
<h3><a class="toc-backref" href="#id9">Test that the service is automatically restarted</a></h3>
<p>The <tt class="docutils literal">Restart=always</tt> option in the <tt class="docutils literal">systemd.service</tt> file ensures that <tt class="docutils literal">systemd</tt> will restart the <tt class="docutils literal">twistd</tt> process if and when it exits unexpectedly.</p>
<p>You can read about other <tt class="docutils literal">Restart</tt> options in the <a class="reference external" href="http://www.freedesktop.org/software/systemd/man/systemd.service.html">systemd.service man page</a>.</p>
<p>Try killing the <tt class="docutils literal">twistd</tt> process and then checking its status again:</p>
<div class="highlight"><pre><span></span><span class="gp">$ </span>sudo <span class="nb">kill</span> <span class="m">12543</span>

<span class="gp">$ </span>systemctl status www.example.com.service
<span class="go">www.example.com.service - Example Web Server</span>
<span class="go">          Loaded: loaded (/etc/systemd/system/www.example.com.service; disabled)</span>
<span class="go">          Active: active (running) since Mon 2013-01-28 17:47:37 GMT; 1s ago</span>
<span class="go">        Main PID: 12611 (twistd)</span>
</pre></div>
<p>The "Active" time stamp shows that the <tt class="docutils literal">twistd</tt> process was restarted within 1 second.</p>
<p>Now stop the service before you proceed to the next section.</p>
<div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl stop www.example.com.service

<span class="gp">$ </span>systemctl status www.example.com.service
<span class="go">www.example.com.service - Example Web Server</span>
<span class="go">          Loaded: loaded (/etc/systemd/system/www.example.com.service; enabled)</span>
<span class="go">          Active: inactive (dead) since Mon 2013-01-28 16:51:12 GMT; 1s ago</span>
<span class="go">         Process: 10695 ExecStart=/usr/bin/twistd --nodaemon --pidfile= web --port 8080 --path . (code=exited, status=0/SUCCESS)</span>
</pre></div>
</div>
</div>
<div class="section" id="socket-activation">
<h2><a class="toc-backref" href="#id10">Socket Activation</a></h2>
<p>First you need to understand what "socket activation" is.
This extract from the <a class="reference external" href="http://www.freedesktop.org/software/systemd/man/daemon.html">systemd daemon man page</a> explains it quite clearly.</p>
<blockquote>
<p>In a socket-based activation scheme the creation and binding of the listening socket as primary communication channel of daemons to local (and sometimes remote) clients is moved out of the daemon code and into the init system.</p>
<p>Based on per-daemon configuration the init system installs the sockets and then hands them off to the spawned process as soon as the respective daemon is to be started.</p>
<p>Optionally activation of the service can be delayed until the first inbound traffic arrives at the socket, to implement on-demand activation of daemons.</p>
<p>However, the primary advantage of this scheme is that all providers and all consumers of the sockets can be started in parallel as soon as all sockets are established.</p>
<p>In addition to that daemons can be restarted with losing only a minimal number of client transactions or even any client request at all (the latter is particularly true for state-less protocols, such as DNS or syslog), because the socket stays bound and accessible during the restart, and all requests are queued while the daemon cannot process them.</p>
</blockquote>
<p>Another benefit of socket activation is that <tt class="docutils literal">systemd</tt> can listen on privileged ports and start Twisted with privileges already dropped. This allows a Twisted service to be configured and restarted by a non-root user.</p>
<p>Twisted (since version 12.2) includes a <a class="reference external" href="endpoints">systemd endpoint API and a corresponding string ports syntax</a> which allows a Twisted service to inherit a listening socket from <tt class="docutils literal">systemd</tt>.</p>
<p>The following example builds on the previous example, demonstrating how to enable socket activation for a simple Twisted web server.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Before continuing, stop the previous example service with the following command:</p>
<div class="last"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl stop www.example.com.service
</pre></div>
</div></div>
<div class="section" id="create-a-systemd-socket-file">
<h3><a class="toc-backref" href="#id11">Create a systemd.socket file</a></h3>
<p>Create the <a class="reference external" href="http://www.freedesktop.org/software/systemd/man/systemd.socket.html">systemd.socket</a> file at <tt class="docutils literal">/etc/systemd/system/www.example.com.socket</tt> with the following content:</p>
<p><cite>/etc/systemd/system/www.example.com.socket &lt;listings/systemd/www.example.com.socket&gt;</cite></p>
<blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field"><th class="field-name">language:</th><td class="field-body">ini</td>
</tr>
</tbody>
</table>
</blockquote>
<p>This configuration file contains the following important directives:</p>
<p>ListenStream=0.0.0.0:80</p>
<blockquote>
This option configures <tt class="docutils literal">systemd</tt> to create a listening TCP socket bound to all local IPv4 addresses on port 80.</blockquote>
<p>WantedBy=sockets.target</p>
<blockquote>
This is
a <a class="reference external" href="http://www.freedesktop.org/software/systemd/man/systemd.special.html#sockets.target">special target</a> used by all socket activated services. <tt class="docutils literal">systemd</tt> will automatically bind to all such socket activation ports during boot up.</blockquote>
<p>You also need to modify the <tt class="docutils literal">systemd.service</tt> file as follows:</p>
<p><cite>/etc/systemd/system/www.example.com.service &lt;listings/systemd/www.example.com.socketactivated.service&gt;</cite></p>
<blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field"><th class="field-name">language:</th><td class="field-body">ini</td>
</tr>
</tbody>
</table>
</blockquote>
<p>Note the following important directives and changes:</p>
<p>ExecStart</p>
<blockquote>
<p>The <tt class="docutils literal">domain=INET</tt> endpoint argument makes <tt class="docutils literal">twistd</tt> treat the inherited file descriptor as an IPv4 socket.</p>
<p>The <tt class="docutils literal">index=0</tt> endpoint argument makes <tt class="docutils literal">twistd</tt> adopt the first file descriptor inherited from <tt class="docutils literal">systemd</tt>.</p>
<p>Socket activation is also technically possible with other socket families and types, but Twisted currently only accepts IPv4 and IPv6 TCP sockets. See <cite>limitations</cite> below.</p>
</blockquote>
<p>NonBlocking</p>
<blockquote>
This must be set to <tt class="docutils literal">true</tt> to ensure that <tt class="docutils literal">systemd</tt> passes non-blocking sockets to Twisted.</blockquote>
<p>[Install]</p>
<blockquote>
In this example, the <tt class="docutils literal">[Install]</tt> section has been moved to the socket configuration file.</blockquote>
<p>Reload <tt class="docutils literal">systemd</tt> so that it reads the updated configuration files.</p>
<div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl daemon-reload
</pre></div>
</div>
<div class="section" id="start-and-enable-the-socket">
<h3><a class="toc-backref" href="#id12">Start and enable the socket</a></h3>
<p>You can now start <tt class="docutils literal">systemd</tt> listening on the socket with the following command:</p>
<div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl start www.example.com.socket
</pre></div>
<p>This command refers specifically to the socket configuration file, <strong>not</strong> the service file.</p>
<p><tt class="docutils literal">systemd</tt> should now be listening on port 80</p>
<div class="highlight"><pre><span></span><span class="gp">$ </span>systemctl status www.example.com.socket
<span class="go">www.example.com.socket</span>
<span class="go">          Loaded: loaded (/etc/systemd/system/www.example.com.socket; disabled)</span>
<span class="go">          Active: active (listening) since Tue 2013-01-29 14:53:17 GMT; 7s ago</span>

<span class="go">Jan 29 14:53:17 zorin.lan systemd[1]: Listening on www.example.com.socket.</span>
</pre></div>
<p>But <tt class="docutils literal">twistd</tt> should not yet have started.
You can verify this using the <tt class="docutils literal">systemctl</tt> command. eg</p>
<div class="highlight"><pre><span></span><span class="gp">$ </span>systemctl status www.example.com.service
<span class="go">www.example.com.service - Example Web Server</span>
<span class="go">          Loaded: loaded (/etc/systemd/system/www.example.com.service; static)</span>
<span class="go">          Active: inactive (dead) since Tue 2013-01-29 14:48:42 GMT; 6min ago</span>
</pre></div>
<p>Enable the socket, so that it will be started automatically with the other socket activated services during boot up.</p>
<div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl <span class="nb">enable</span> www.example.com.socket
<span class="go">ln -s '/etc/systemd/system/www.example.com.socket' '/etc/systemd/system/sockets.target.wants/www.example.com.socket'</span>
</pre></div>
</div>
<div class="section" id="activate-the-port-to-start-the-service">
<h3><a class="toc-backref" href="#id13">Activate the port to start the service</a></h3>
<p>Now try connecting to <a class="reference external" href="http://localhost:80">http://localhost:80</a> in your web browser.</p>
<p><tt class="docutils literal">systemd</tt> will accept the connection and start <tt class="docutils literal">twistd</tt>, passing it the listening socket.
You can verify this by using systemctl to report the status of the service. eg</p>
<div class="highlight"><pre><span></span><span class="gp">$ </span>systemctl status www.example.com.service
<span class="go">www.example.com.service - Example Web Server</span>
<span class="go">          Loaded: loaded (/etc/systemd/system/www.example.com.service; static)</span>
<span class="go">          Active: active (running) since Tue 2013-01-29 15:02:20 GMT; 3s ago</span>
<span class="go">        Main PID: 25605 (twistd)</span>
<span class="go">          CGroup: name=systemd:/system/www.example.com.service</span>
<span class="go">                  └─25605 /usr/bin/python /usr/bin/twistd --nodaemon --pidfile= web --port systemd:domain=INET:index=0 --path .</span>

<span class="go">Jan 29 15:02:20 zorin.lan systemd[1]: Started Example Web Server.</span>
<span class="go">Jan 29 15:02:20 zorin.lan twistd[25605]: 2013-01-29 15:02:20+0000 [-] Log opened.</span>
<span class="go">Jan 29 15:02:20 zorin.lan twistd[25605]: 2013-01-29 15:02:20+0000 [-] twistd 12.1.0 (/usr/bin/python 2.7.3) starting up.</span>
<span class="go">Jan 29 15:02:20 zorin.lan twistd[25605]: 2013-01-29 15:02:20+0000 [-] reactor class: twisted.internet.epollreactor.EPollReactor.</span>
<span class="go">Jan 29 15:02:20 zorin.lan twistd[25605]: 2013-01-29 15:02:20+0000 [-] Site starting on 80</span>
<span class="go">Jan 29 15:02:20 zorin.lan twistd[25605]: 2013-01-29 15:02:20+0000 [-] Starting factory &lt;twisted.web.server.Site instance at 0x24be758&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="conclusion">
<h2><a class="toc-backref" href="#id14">Conclusion</a></h2>
<p>In this tutorial you have learned how to deploy a Twisted service using <tt class="docutils literal">systemd</tt>.
You have also learned how the service can be started on demand, using socket activation.</p>
</div>
<div class="section" id="limitations-and-known-issues">
<span id="limitations"></span><h2><a class="toc-backref" href="#id15">Limitations and Known Issues</a></h2>
<ol class="arabic simple">
<li>Twisted can not accept datagram sockets from <tt class="docutils literal">systemd</tt>.</li>
<li>Twisted does not support listening for SSL connections on sockets inherited from <tt class="docutils literal">systemd</tt>.</li>
</ol>
</div>
<div class="section" id="further-reading">
<h2><a class="toc-backref" href="#id16">Further Reading</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://www.freedesktop.org/wiki/Software/systemd/">systemd Documentation</a></li>
</ul>

</div>

        </div>
        </div>
        </div>
<div class="sphinxsidebar">
<div class="sphinxsidebarwrapper">
<div class="toc" id="">
<p class="topic-title">Table Of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id2">Introduction</a></li>
<li><a class="reference internal" href="#prerequisites" id="id3">Prerequisites</a></li>
<li><a class="reference internal" href="#basic-systemd-service-configuration" id="id4">Basic Systemd Service Configuration</a><ul>
<li><a class="reference internal" href="#create-a-systemd-service-file" id="id5">Create a systemd.service file</a></li>
<li><a class="reference internal" href="#reload-systemd" id="id6">Reload <tt class="docutils literal">systemd</tt></a></li>
<li><a class="reference internal" href="#start-the-service" id="id7">Start the service</a></li>
<li><a class="reference internal" href="#enable-the-service" id="id8">Enable the service</a></li>
<li><a class="reference internal" href="#test-that-the-service-is-automatically-restarted" id="id9">Test that the service is automatically restarted</a></li>
</ul>
</li>
<li><a class="reference internal" href="#socket-activation" id="id10">Socket Activation</a><ul>
<li><a class="reference internal" href="#create-a-systemd-socket-file" id="id11">Create a systemd.socket file</a></li>
<li><a class="reference internal" href="#start-and-enable-the-socket" id="id12">Start and enable the socket</a></li>
<li><a class="reference internal" href="#activate-the-port-to-start-the-service" id="id13">Activate the port to start the service</a></li>
</ul>
</li>
<li><a class="reference internal" href="#conclusion" id="id14">Conclusion</a></li>
<li><a class="reference internal" href="#limitations-and-known-issues" id="id15">Limitations and Known Issues</a></li>
<li><a class="reference internal" href="#further-reading" id="id16">Further Reading</a></li>
</ul>
</div>
</div>
</div>    </div>

    </section>

        <div id="footer"><hr>
                <div> </div>
                <p class="left2">
        Copyright 2021, Twisted Matrix Labs. Ver 21.2.0. Built on 2021-02-28.<br />
        Site design<br />
        By <a href="http://huw.ugbox.net/">huw.wilkins.</a>

                </p>
                <p class="right"></p>
        </div>


</body>
</html>