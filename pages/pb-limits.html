<!DOCTYPE html>
<html lang="en">
<head>
          <title>Test Pelican - PB Limits</title>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />

        <meta name="Description" content="An event-driven networking engine written in Python and MIT licensed." />

        <link rel="stylesheet" type="text/css" href="https://judgegregg.github.io/pelitwi/theme/css/twistedtrac.css" />


</head>

<body>
        <div id="banner">
                <div id="top_grad"></div>
                <div id="tab">
                        <a href="https://twistedmatrix.com/trac/wiki">HOME</a>
                        <a href="https://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions">FAQ</a>
                        <a href="/">DOCS</a>
                        <a href="https://twistedmatrix.com/trac/wiki/Downloads">DOWNLOAD</a>
                </div>

                <div id="header">
                        <a id="logo" href="https://judgegregg.github.io/pelitwi/"><img src="https://judgegregg.github.io/pelitwi/theme/images/trac_banner.png" alt="Twisted" /></a>
                </div>
        </div>

<div id="mainnav" class="related">
	<ul>
		<li><a href="https://judgegregg.github.io/pelitwi">Twisted 21.2.0 documentation</a> Â»</li>
	</ul>
</div>
        <div id="ctxtnav" class="nav">
        </div>

    <section>

    <div class="document">
        <div class="documentwrapper">
        <div class="bodywrapper">
        <h1>PB Limits</h1>
        
        <div class="entry-content">
        <p>There are a number of limits you might encounter when using Perspective
Broker.  This document is an attempt to prepare you for as many of them as
possible so you can avoid them or at least recognize them when you do run
into them.</p>
<div class="section" id="banana-limits">
<h2><a class="toc-backref" href="#id1">Banana Limits</a></h2>
<p>Perspective Broker is implemented in terms of a simpler, less
functional protocol called Banana.  Twisted's implementation of Banana
imposes a limit on the length of any sequence-like data type.  This applies
directly to lists and strings and indirectly to dictionaries, instances and
other types.  The purpose of this limit is to put an upper bound on the
amount of memory which will be allocated to handle a message received over
the network.  Without, a malicious peer could easily perform a denial of
service attack resulting in exhaustion of the receiver's memory.  The basic
limit is 640 * 1024 bytes, defined by <tt class="docutils literal">twisted.spread.banana.SIZE_LIMIT</tt> .
It's possible to raise this limit by changing this value (but take care to
change it on both sides of the connection).</p>
<p>Another limit imposed by Twisted's Banana implementation is a limit on
the size of long integers.  The purpose of this limit is the same as the
<tt class="docutils literal">SIZE_LIMIT</tt> .  By default, only integers between -2 ** 448 and 2
** 448 (exclusive) can be transferred.  This limit can be changed using
<cite>twisted.spread.banana.setPrefixLimit</cite> .</p>
</div>
<div class="section" id="perspective-broker-limits">
<h2><a class="toc-backref" href="#id2">Perspective Broker Limits</a></h2>
<p>Perspective Broker imposes an additional limit on top of these lower
level limits.  The number of local objects for which remote references may
exist at a single time over a single connection, by default, is limited to
1024, defined by <tt class="docutils literal">twisted.spread.pb.MAX_BROKER_REFS</tt> .  This limit
also exists to prevent memory exhaustion attacks.</p>

</div>

        </div>
        </div>
        </div>
<div class="sphinxsidebar">
<div class="sphinxsidebarwrapper">
<div class="toc" id="">
<p class="topic-title">Table Of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#banana-limits" id="id1">Banana Limits</a></li>
<li><a class="reference internal" href="#perspective-broker-limits" id="id2">Perspective Broker Limits</a></li>
</ul>
</div>
</div>
</div>    </div>

    </section>

        <div id="footer"><hr>
                <div> </div>
                <p class="left2">
        Copyright 2021, Twisted Matrix Labs. Ver 21.2.0. Built on 2021-02-28.<br />
        Site design<br />
        By <a href="http://huw.ugbox.net/">huw.wilkins.</a>

                </p>
                <p class="right"></p>
        </div>


</body>
</html>